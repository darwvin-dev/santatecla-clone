.root {
  position: relative;
  display: grid;
  place-items: center;
  width: 100%;
  min-height: 240px;
  isolation: isolate;
}

.full {
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: var(--backdrop);
  -webkit-backdrop-filter: blur(3px) saturate(1.05);
  backdrop-filter: blur(3px) saturate(1.05);
}

.srOnly {
  position: absolute !important;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0,0,0,0);
  white-space: nowrap;
  border: 0;
}

/* صحنه مرکزی */
.stage {
  position: relative;
  display: grid;
  place-items: center;
  padding: 28px 32px 38px;
  border-radius: 20px;
  background:
    radial-gradient(120% 100% at 50% 0%, rgba(255,255,255,.20), rgba(255,255,255,.08) 60%, transparent 100%),
    rgba(255,255,255,.06);
  box-shadow:
    0 8px 40px rgba(0,0,0,.20),
    inset 0 1px 0 rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.10);
}

/* هاله نوری پشت لوگو */
.glow {
  position: absolute;
  width: 240px;
  height: 240px;
  border-radius: 999px;
  background:
    radial-gradient(closest-side, rgba(255,255,255,.28), rgba(255,255,255,.06), transparent 70%);
  filter: blur(10px);
  animation: glowPulse calc(var(--speed) * 2) ease-in-out infinite;
  transform: translateZ(0);
}

@keyframes glowPulse {
  0%,100% { opacity: .70; transform: scale(0.95); }
  50% { opacity: 1; transform: scale(1.05); }
}

/* حلقه کانیک مدرن */
.ring {
  position: absolute;
  width: 120px;
  height: 120px;
  filter: drop-shadow(0 2px 10px rgba(0,0,0,.15));
  display: grid;
  place-items: center;
}

.track,
.sweep {
  position: absolute;
  inset: 0;
  border-radius: 999px;
  -webkit-mask: radial-gradient(farthest-side, transparent calc(50% - 6px), #000 0);
          mask: radial-gradient(farthest-side, transparent calc(50% - 6px), #000 0);
}

.track {
  background:
    conic-gradient(from 0deg, rgba(255,255,255,.15) 0 360deg);
}

.sweep {
  background:
    conic-gradient(
      from 0deg,
      var(--ink) 0 110deg,
      transparent 110deg 360deg
    );
  animation: spin var(--speed) linear infinite;
}

@keyframes spin { to { transform: rotate(360deg); } }

/* لوگو */
.brand {
  position: relative;
  z-index: 2;
  transform: translateZ(0);
  animation: popIn 420ms cubic-bezier(.2,.8,.2,1) both;
  filter: drop-shadow(0 1px 0 rgba(255,255,255,.25));
}
.brand :global(svg) {
  display: block;
}
@keyframes popIn {
  from { opacity: 0; transform: translateY(6px) scale(.98); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}

/* نوار پیشرفت */
.progress {
  position: absolute;
  left: 20px;
  right: 20px;
  bottom: 16px;
  height: 6px;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.08));
  overflow: hidden;
  box-shadow:
    inset 0 1px 1px rgba(0,0,0,.12),
    0 1px 0 rgba(255,255,255,.12);
}

.progressBar {
  height: 100%;
  width: 0%;
  background:
    linear-gradient(90deg, var(--ink), color-mix(in oklab, var(--ink) 65%, white));
  border-radius: inherit;
  transition: width 240ms cubic-bezier(.2,.8,.2,1);
}

/* کاهش حرکت */
@media (prefers-reduced-motion: reduce) {
  .sweep { animation-duration: calc(var(--speed) * 2); }
  .glow { animation-duration: calc(var(--speed) * 3); }
}
